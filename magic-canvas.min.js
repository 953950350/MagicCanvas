$(function(){function a(){n=document.getElementById("reactive-bg-canvas"),l=$(document).width(),m=$(document).height(),n.style.position="absolute",n.width=l,n.height=m,q={x:l/2,y:m/2},o=n.getContext("2d"),k()}function b(){"ontouchstart"in window||window.addEventListener("mousemove",c),window.addEventListener("resize",d)}function c(a){q.x=a.pageX,q.y=a.pageY}function d(){l=window.innerWidth,m=window.innerHeight,n.width=l,n.height=m}function e(){f()}function f(){o.clearRect(0,0,l,m);for(var a=0;a<p.length;a++)Math.abs(j(q,p[a]))<4e3?(p[a].active=.3,p[a].circle.active=.6):Math.abs(j(q,p[a]))<2e4?(p[a].active=.1,p[a].circle.active=.3):Math.abs(j(q,p[a]))<4e4?(p[a].active=.02,p[a].circle.active=.1):(p[a].active=0,p[a].circle.active=0),p[a].active=.6,p[a].circle.active=.6,i(p[a]),p[a].circle.draw();requestAnimationFrame(f)}function g(a,b){var c=r*Math.sin(60*Math.PI/180),d=r*Math.cos(60*Math.PI/180),e={closest:[]};return"left"==b||"right"==b?(e.x=a.x+r*("left"==b?-1:1),e.y=a.y):"rightTop"==b||"rightBottom"==b?(e.x=a.x+d,e.y=a.y+c*("rightTop"==b?-1:1)):("leftTop"==b||"leftBottom"==b)&&(e.x=a.x-d,e.y=a.y+c*("leftTop"==b?-1:1)),e.type=b,a.closest.push(e),e.closest.push(a),e}function h(a,b){this.pos=a||null,this.radius=b||null,this.draw=function(){this.active&&(o.beginPath(),o.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!1),o.fillStyle="rgba("+s+","+this.active+")",o.fill())}}function i(a){if(a.active)for(var b=0;b<a.closest.length;b++)o.beginPath(),o.moveTo(a.x,a.y),o.lineTo(a.closest[b].x,a.closest[b].y),o.strokeStyle="rgba("+s+","+a.active+")",o.stroke()}function j(a,b){return Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)}function k(){var a={x:l/2,y:m/2,closest:[]},b=[g(a,"left"),g(a,"rightTop"),g(a,"rightBottom")];for(p=[a];b.length>0;){var c=b.pop();if(0<c.x&&c.x<l&&0<c.y&&c.y<m){for(var d=!1,e=0;e<p.length;e++){var f=p[e],i=j(c,f);if(i<Math.pow(r,2)){d=!0;break}}if(!d){p.push(c);var k=c.type;"leftTop"==k||"leftBottom"==k?(b.unshift(g(c,"left")),b.unshift(g(c,"leftTop"==k?"rightTop":"rightBottom"))):"rightTop"==k||"rightBottom"==k?(b.unshift(g(c,"right")),b.unshift(g(c,"rightTop"==k?"leftTop":"leftBottom"))):"left"==k?(b.unshift(g(c,"leftBottom")),b.unshift(g(c,"leftTop"))):"right"==k&&(b.unshift(g(c,"rightBottom")),b.unshift(g(c,"rightTop")))}}}for(var e=0;e<p.length;e++)p[e].circle=new h(p[e],2+2*Math.random())}var l,m,n,o,p,q,r=50,s="156,217,249";a(),e(),b()});